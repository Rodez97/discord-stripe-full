"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/verify-subscription/route";
exports.ids = ["app/api/verify-subscription/route"];
exports.modules = {

/***/ "firebase-admin":
/*!*********************************!*\
  !*** external "firebase-admin" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("firebase-admin");

/***/ }),

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("firebase-admin/app");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-subscription%2Froute&page=%2Fapi%2Fverify-subscription%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-subscription%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-subscription%2Froute&page=%2Fapi%2Fverify-subscription%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-subscription%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mnt_d_Main_Proyects_discord_stripe_mono_apps_seller_src_app_api_verify_subscription_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/verify-subscription/route.ts */ \"(rsc)/./src/app/api/verify-subscription/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/verify-subscription/route\",\n        pathname: \"/api/verify-subscription\",\n        filename: \"route\",\n        bundlePath: \"app/api/verify-subscription/route\"\n    },\n    resolvedPagePath: \"/mnt/d/Main-Proyects/discord-stripe-mono/apps/seller/src/app/api/verify-subscription/route.ts\",\n    nextConfigOutput,\n    userland: _mnt_d_Main_Proyects_discord_stripe_mono_apps_seller_src_app_api_verify_subscription_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/verify-subscription/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGdmVyaWZ5LXN1YnNjcmlwdGlvbiUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGdmVyaWZ5LXN1YnNjcmlwdGlvbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnZlcmlmeS1zdWJzY3JpcHRpb24lMkZyb3V0ZS50cyZhcHBEaXI9JTJGbW50JTJGZCUyRk1haW4tUHJveWVjdHMlMkZkaXNjb3JkLXN0cmlwZS1tb25vJTJGYXBwcyUyRnNlbGxlciUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGbW50JTJGZCUyRk1haW4tUHJveWVjdHMlMkZkaXNjb3JkLXN0cmlwZS1tb25vJTJGYXBwcyUyRnNlbGxlciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM2QztBQUMxSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL0BzdHJpcGUtZGlzY29yZC9zZWxsZXIvPzE2YTEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL21udC9kL01haW4tUHJveWVjdHMvZGlzY29yZC1zdHJpcGUtbW9uby9hcHBzL3NlbGxlci9zcmMvYXBwL2FwaS92ZXJpZnktc3Vic2NyaXB0aW9uL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS92ZXJpZnktc3Vic2NyaXB0aW9uL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdmVyaWZ5LXN1YnNjcmlwdGlvblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvdmVyaWZ5LXN1YnNjcmlwdGlvbi9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9tbnQvZC9NYWluLVByb3llY3RzL2Rpc2NvcmQtc3RyaXBlLW1vbm8vYXBwcy9zZWxsZXIvc3JjL2FwcC9hcGkvdmVyaWZ5LXN1YnNjcmlwdGlvbi9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS92ZXJpZnktc3Vic2NyaXB0aW9uL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-subscription%2Froute&page=%2Fapi%2Fverify-subscription%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-subscription%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/verify-subscription/route.ts":
/*!**************************************************!*\
  !*** ./src/app/api/verify-subscription/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _stripe_discord_db_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stripe-discord/db-lib */ \"(rsc)/../../packages/db-lib/index.ts\");\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/../../node_modules/next/dist/server/web/exports/next-response.js\");\n\n\nasync function POST(req) {\n    const parsedBody = await req.json();\n    const { userId } = parsedBody;\n    const customerRef = _stripe_discord_db_lib__WEBPACK_IMPORTED_MODULE_0__.CustomerPaths.customerByUserId(userId);\n    const integrationSettings = (await customerRef.get()).data();\n    if (!integrationSettings) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n            isSub: false\n        });\n    }\n    const { stripeSubscriptionStatus } = integrationSettings;\n    const isSub = Boolean([\n        \"active\",\n        \"trialing\"\n    ].includes(stripeSubscriptionStatus));\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].json({\n        isSub\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92ZXJpZnktc3Vic2NyaXB0aW9uL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUF1RDtBQUNDO0FBRWpELGVBQWVFLEtBQUtDLEdBQWdCO0lBQ3pDLE1BQU1DLGFBQWEsTUFBTUQsSUFBSUUsSUFBSTtJQUNqQyxNQUFNLEVBQUVDLE1BQU0sRUFBRSxHQUFHRjtJQUVuQixNQUFNRyxjQUFjUCxpRUFBYUEsQ0FBQ1EsZ0JBQWdCLENBQUNGO0lBQ25ELE1BQU1HLHNCQUFzQixDQUFDLE1BQU1GLFlBQVlHLEdBQUcsRUFBQyxFQUFHQyxJQUFJO0lBRTFELElBQUksQ0FBQ0YscUJBQXFCO1FBQ3hCLE9BQU9SLGtGQUFZQSxDQUFDSSxJQUFJLENBQUM7WUFBRU8sT0FBTztRQUFNO0lBQzFDO0lBRUEsTUFBTSxFQUFFQyx3QkFBd0IsRUFBRSxHQUFHSjtJQUVyQyxNQUFNRyxRQUFRRSxRQUNaO1FBQUM7UUFBVTtLQUFXLENBQUNDLFFBQVEsQ0FBQ0Y7SUFHbEMsT0FBT1osa0ZBQVlBLENBQUNJLElBQUksQ0FBQztRQUFFTztJQUFNO0FBQ25DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHN0cmlwZS1kaXNjb3JkL3NlbGxlci8uL3NyYy9hcHAvYXBpL3ZlcmlmeS1zdWJzY3JpcHRpb24vcm91dGUudHM/Y2E4NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDdXN0b21lclBhdGhzIH0gZnJvbSBcIkBzdHJpcGUtZGlzY29yZC9kYi1saWJcIjtcclxuaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxOiBOZXh0UmVxdWVzdCkge1xyXG4gIGNvbnN0IHBhcnNlZEJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xyXG4gIGNvbnN0IHsgdXNlcklkIH0gPSBwYXJzZWRCb2R5O1xyXG5cclxuICBjb25zdCBjdXN0b21lclJlZiA9IEN1c3RvbWVyUGF0aHMuY3VzdG9tZXJCeVVzZXJJZCh1c2VySWQpO1xyXG4gIGNvbnN0IGludGVncmF0aW9uU2V0dGluZ3MgPSAoYXdhaXQgY3VzdG9tZXJSZWYuZ2V0KCkpLmRhdGEoKTtcclxuXHJcbiAgaWYgKCFpbnRlZ3JhdGlvblNldHRpbmdzKSB7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBpc1N1YjogZmFsc2UgfSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB7IHN0cmlwZVN1YnNjcmlwdGlvblN0YXR1cyB9ID0gaW50ZWdyYXRpb25TZXR0aW5ncztcclxuXHJcbiAgY29uc3QgaXNTdWIgPSBCb29sZWFuKFxyXG4gICAgW1wiYWN0aXZlXCIsIFwidHJpYWxpbmdcIl0uaW5jbHVkZXMoc3RyaXBlU3Vic2NyaXB0aW9uU3RhdHVzKVxyXG4gICk7XHJcblxyXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGlzU3ViIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJDdXN0b21lclBhdGhzIiwiTmV4dFJlc3BvbnNlIiwiUE9TVCIsInJlcSIsInBhcnNlZEJvZHkiLCJqc29uIiwidXNlcklkIiwiY3VzdG9tZXJSZWYiLCJjdXN0b21lckJ5VXNlcklkIiwiaW50ZWdyYXRpb25TZXR0aW5ncyIsImdldCIsImRhdGEiLCJpc1N1YiIsInN0cmlwZVN1YnNjcmlwdGlvblN0YXR1cyIsIkJvb2xlYW4iLCJpbmNsdWRlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/verify-subscription/route.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db-lib/firebase-admin-config.ts":
/*!******************************************************!*\
  !*** ../../packages/db-lib/firebase-admin-config.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customInitApp: () => (/* binding */ customInitApp)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__);\n\nconst firebaseAdminConfig = {\n    credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n        projectId: process.env.FIREBASE_ADMIN_PROJECT_ID,\n        clientEmail: process.env.FIREBASE_ADMIN_CLIENT_EMAIL,\n        privateKey: process.env.FIREBASE_ADMIN_PRIVATE_KEY\n    })\n};\nfunction customInitApp() {\n    if ((0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length <= 0) {\n        (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseAdminConfig);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGItbGliL2ZpcmViYXNlLWFkbWluLWNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0U7QUFFbEUsTUFBTUcsc0JBQXNCO0lBQzFCQyxZQUFZRix3REFBSUEsQ0FBQztRQUNmRyxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLHlCQUF5QjtRQUNoREMsYUFBYUgsUUFBUUMsR0FBRyxDQUFDRywyQkFBMkI7UUFDcERDLFlBQVlMLFFBQVFDLEdBQUcsQ0FBQ0ssMEJBQTBCO0lBQ3BEO0FBQ0Y7QUFFTyxTQUFTQztJQUNkLElBQUlaLDJEQUFPQSxHQUFHYSxNQUFNLElBQUksR0FBRztRQUN6QmQsaUVBQWFBLENBQUNHO0lBQ2hCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac3RyaXBlLWRpc2NvcmQvc2VsbGVyLy4uLy4uL3BhY2thZ2VzL2RiLWxpYi9maXJlYmFzZS1hZG1pbi1jb25maWcudHM/YTBjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzLCBjZXJ0IH0gZnJvbSBcImZpcmViYXNlLWFkbWluL2FwcFwiO1xyXG5cclxuY29uc3QgZmlyZWJhc2VBZG1pbkNvbmZpZyA9IHtcclxuICBjcmVkZW50aWFsOiBjZXJ0KHtcclxuICAgIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQURNSU5fUFJPSkVDVF9JRCxcclxuICAgIGNsaWVudEVtYWlsOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9BRE1JTl9DTElFTlRfRU1BSUwsXHJcbiAgICBwcml2YXRlS2V5OiBwcm9jZXNzLmVudi5GSVJFQkFTRV9BRE1JTl9QUklWQVRFX0tFWSxcclxuICB9KSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21Jbml0QXBwKCkge1xyXG4gIGlmIChnZXRBcHBzKCkubGVuZ3RoIDw9IDApIHtcclxuICAgIGluaXRpYWxpemVBcHAoZmlyZWJhc2VBZG1pbkNvbmZpZyk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImNlcnQiLCJmaXJlYmFzZUFkbWluQ29uZmlnIiwiY3JlZGVudGlhbCIsInByb2plY3RJZCIsInByb2Nlc3MiLCJlbnYiLCJGSVJFQkFTRV9BRE1JTl9QUk9KRUNUX0lEIiwiY2xpZW50RW1haWwiLCJGSVJFQkFTRV9BRE1JTl9DTElFTlRfRU1BSUwiLCJwcml2YXRlS2V5IiwiRklSRUJBU0VfQURNSU5fUFJJVkFURV9LRVkiLCJjdXN0b21Jbml0QXBwIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db-lib/firebase-admin-config.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db-lib/firestore-db-paths.ts":
/*!***************************************************!*\
  !*** ../../packages/db-lib/firestore-db-paths.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminCustomerFirestoreConverter: () => (/* binding */ AdminCustomerFirestoreConverter),\n/* harmony export */   AdminDiscordTierFirestoreConverter: () => (/* binding */ AdminDiscordTierFirestoreConverter),\n/* harmony export */   AdminDiscordTierWithPricesFirestoreConverter: () => (/* binding */ AdminDiscordTierWithPricesFirestoreConverter),\n/* harmony export */   AdminMonetizedServersFirestoreConverter: () => (/* binding */ AdminMonetizedServersFirestoreConverter),\n/* harmony export */   AdminUserSubscriptionFirestoreConverter: () => (/* binding */ AdminUserSubscriptionFirestoreConverter),\n/* harmony export */   CustomerPaths: () => (/* binding */ CustomerPaths),\n/* harmony export */   MonetizedServers: () => (/* binding */ MonetizedServers),\n/* harmony export */   TierPaths: () => (/* binding */ TierPaths),\n/* harmony export */   UserSubscriptions: () => (/* binding */ UserSubscriptions)\n/* harmony export */ });\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin */ \"firebase-admin\");\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _firebase_admin_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase-admin-config */ \"(rsc)/../../packages/db-lib/firebase-admin-config.ts\");\n\n\n(0,_firebase_admin_config__WEBPACK_IMPORTED_MODULE_1__.customInitApp)();\nconst AdminCustomerFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        return data;\n    }\n};\nconst AdminDiscordTierFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        const id = snapshot.id;\n        return {\n            id,\n            ...data\n        };\n    }\n};\nconst AdminDiscordTierWithPricesFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        const id = snapshot.id;\n        return {\n            id,\n            ...data\n        };\n    }\n};\nconst AdminMonetizedServersFirestoreConverter = {\n    toFirestore (post) {\n        return {\n            ...post\n        };\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        return data;\n    }\n};\nconst AdminUserSubscriptionFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        return data;\n    }\n};\nconst TierPaths = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").withConverter(AdminDiscordTierFirestoreConverter),\n    userServerTiers: (userId, serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").where(\"sellerId\", \"==\", userId).where(\"guildId\", \"==\", serverId).withConverter(AdminDiscordTierFirestoreConverter),\n    userServerTiersWithPrices: (userId, serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").where(\"sellerId\", \"==\", userId).where(\"guildId\", \"==\", serverId).withConverter(AdminDiscordTierWithPricesFirestoreConverter),\n    tier: (tierId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").doc(tierId).withConverter(AdminDiscordTierFirestoreConverter),\n    tiersByProductId: (productId, userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").where(\"productId\", \"==\", productId).where(\"sellerId\", \"==\", userId).withConverter(AdminDiscordTierFirestoreConverter)\n};\nconst MonetizedServers = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").withConverter(AdminMonetizedServersFirestoreConverter),\n    monetizedServers: (userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").where(\"ownerId\", \"==\", userId).withConverter(AdminMonetizedServersFirestoreConverter),\n    monetizedServer: (serverId, userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").where(\"ownerId\", \"==\", userId).where(firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore.FieldPath.documentId(), \"==\", serverId).withConverter(AdminMonetizedServersFirestoreConverter),\n    monetizedServerById: (serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").doc(serverId).withConverter(AdminMonetizedServersFirestoreConverter)\n};\nconst UserSubscriptions = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").withConverter(AdminUserSubscriptionFirestoreConverter),\n    userSubscriptionBySubId: (subscriptionId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").doc(subscriptionId).withConverter(AdminUserSubscriptionFirestoreConverter),\n    userSubscriptionByUserId: (userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").where(\"userId\", \"==\", userId).withConverter(AdminUserSubscriptionFirestoreConverter),\n    userSubscriptionByServerId: (userId, serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").where(\"userId\", \"==\", userId).where(\"guildId\", \"==\", serverId).withConverter(AdminUserSubscriptionFirestoreConverter)\n};\nconst CustomerPaths = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").withConverter(AdminCustomerFirestoreConverter),\n    customerByUserId: (userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").doc(userId).withConverter(AdminCustomerFirestoreConverter),\n    customerByCustomerId: (customerId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").where(\"stripeCustomerId\", \"==\", customerId).withConverter(AdminCustomerFirestoreConverter),\n    customerBySubscriptionId: (subscriptionId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").where(\"stripeSubscriptionId\", \"==\", subscriptionId).withConverter(AdminCustomerFirestoreConverter)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGItbGliL2ZpcmVzdG9yZS1kYi1wYXRocy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDYTtBQWdCeERDLHFFQUFhQTtBQUVOLE1BQU1DLGtDQUNYO0lBQ0VDLGFBQVlDLElBQXFDO1FBQy9DLE9BQU9BO0lBQ1Q7SUFDQUMsZUFBY0MsUUFBK0I7UUFDM0MsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtRQUMxQixPQUFPQTtJQUNUO0FBQ0YsRUFBRTtBQUVHLE1BQU1DLHFDQUNYO0lBQ0VMLGFBQVlDLElBQWlCO1FBQzNCLE9BQU9BO0lBQ1Q7SUFDQUMsZUFBY0MsUUFBK0I7UUFDM0MsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtRQUMxQixNQUFNRSxLQUFLSCxTQUFTRyxFQUFFO1FBQ3RCLE9BQU87WUFBRUE7WUFBSSxHQUFHRixJQUFJO1FBQUM7SUFDdkI7QUFDRixFQUFFO0FBRUcsTUFBTUcsK0NBQ1g7SUFDRVAsYUFBWUMsSUFBMkM7UUFDckQsT0FBT0E7SUFDVDtJQUNBQyxlQUFjQyxRQUErQjtRQUMzQyxNQUFNQyxPQUFPRCxTQUFTQyxJQUFJO1FBQzFCLE1BQU1FLEtBQUtILFNBQVNHLEVBQUU7UUFDdEIsT0FBTztZQUFFQTtZQUFJLEdBQUdGLElBQUk7UUFBQztJQUN2QjtBQUNGLEVBQUU7QUFFRyxNQUFNSSwwQ0FDWDtJQUNFUixhQUFZQyxJQUFxQjtRQUMvQixPQUFPO1lBQUUsR0FBR0EsSUFBSTtRQUFDO0lBQ25CO0lBQ0FDLGVBQWNDLFFBQStCO1FBQzNDLE1BQU1DLE9BQU9ELFNBQVNDLElBQUk7UUFDMUIsT0FBT0E7SUFDVDtBQUNGLEVBQUU7QUFFRyxNQUFNSywwQ0FDWDtJQUNFVCxhQUFZQyxJQUFzQjtRQUNoQyxPQUFPQTtJQUNUO0lBQ0FDLGVBQWNDLFFBQStCO1FBQzNDLE1BQU1DLE9BQU9ELFNBQVNDLElBQUk7UUFDMUIsT0FBT0E7SUFDVDtBQUNGLEVBQUU7QUFFRyxNQUFNTSxZ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cmQvc2VsbGVyLy4uLy4uL3BhY2thZ2VzL2RiLWxpYi9maXJlc3RvcmUtZGItcGF0aHMudHM/MjNkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaXJlc3RvcmUgfSBmcm9tIFwiZmlyZWJhc2UtYWRtaW5cIjtcclxuaW1wb3J0IHsgY3VzdG9tSW5pdEFwcCB9IGZyb20gXCIuL2ZpcmViYXNlLWFkbWluLWNvbmZpZ1wiO1xyXG5pbXBvcnQge1xyXG4gIEN1c3RvbWVyLFxyXG4gIERpc2NvcmRUaWVyLFxyXG4gIERpc2NvcmRUaWVyV2l0aFByaWNlcyxcclxuICBNb25ldGl6ZWRTZXJ2ZXIsXHJcbiAgVXNlclN1YnNjcmlwdGlvbixcclxufSBmcm9tIFwiQHN0cmlwZS1kaXNjb3JkL3R5cGVzXCI7XHJcbmltcG9ydCB0eXBlIHtcclxuICBEb2N1bWVudERhdGEsXHJcbiAgRmlyZXN0b3JlRGF0YUNvbnZlcnRlcixcclxuICBQYXJ0aWFsV2l0aEZpZWxkVmFsdWUsXHJcbiAgUXVlcnlEb2N1bWVudFNuYXBzaG90LFxyXG4gIFdpdGhGaWVsZFZhbHVlLFxyXG59IGZyb20gXCJmaXJlYmFzZS1hZG1pbi9maXJlc3RvcmVcIjtcclxuXHJcbmN1c3RvbUluaXRBcHAoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBBZG1pbkN1c3RvbWVyRmlyZXN0b3JlQ29udmVydGVyOiBGaXJlc3RvcmVEYXRhQ29udmVydGVyPEN1c3RvbWVyPiA9XHJcbiAge1xyXG4gICAgdG9GaXJlc3RvcmUocG9zdDogUGFydGlhbFdpdGhGaWVsZFZhbHVlPEN1c3RvbWVyPik6IERvY3VtZW50RGF0YSB7XHJcbiAgICAgIHJldHVybiBwb3N0O1xyXG4gICAgfSxcclxuICAgIGZyb21GaXJlc3RvcmUoc25hcHNob3Q6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCk6IEN1c3RvbWVyIHtcclxuICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRhdGEoKTtcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgQ3VzdG9tZXI7XHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG5leHBvcnQgY29uc3QgQWRtaW5EaXNjb3JkVGllckZpcmVzdG9yZUNvbnZlcnRlcjogRmlyZXN0b3JlRGF0YUNvbnZlcnRlcjxEaXNjb3JkVGllcj4gPVxyXG4gIHtcclxuICAgIHRvRmlyZXN0b3JlKHBvc3Q6IERpc2NvcmRUaWVyKTogRG9jdW1lbnREYXRhIHtcclxuICAgICAgcmV0dXJuIHBvc3Q7XHJcbiAgICB9LFxyXG4gICAgZnJvbUZpcmVzdG9yZShzbmFwc2hvdDogUXVlcnlEb2N1bWVudFNuYXBzaG90KTogRGlzY29yZFRpZXIge1xyXG4gICAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpO1xyXG4gICAgICBjb25zdCBpZCA9IHNuYXBzaG90LmlkO1xyXG4gICAgICByZXR1cm4geyBpZCwgLi4uZGF0YSB9IGFzIERpc2NvcmRUaWVyO1xyXG4gICAgfSxcclxuICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IEFkbWluRGlzY29yZFRpZXJXaXRoUHJpY2VzRmlyZXN0b3JlQ29udmVydGVyOiBGaXJlc3RvcmVEYXRhQ29udmVydGVyPERpc2NvcmRUaWVyV2l0aFByaWNlcz4gPVxyXG4gIHtcclxuICAgIHRvRmlyZXN0b3JlKHBvc3Q6IFdpdGhGaWVsZFZhbHVlPERpc2NvcmRUaWVyV2l0aFByaWNlcz4pOiBEb2N1bWVudERhdGEge1xyXG4gICAgICByZXR1cm4gcG9zdDtcclxuICAgIH0sXHJcbiAgICBmcm9tRmlyZXN0b3JlKHNuYXBzaG90OiBRdWVyeURvY3VtZW50U25hcHNob3QpOiBEaXNjb3JkVGllcldpdGhQcmljZXMge1xyXG4gICAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpO1xyXG4gICAgICBjb25zdCBpZCA9IHNuYXBzaG90LmlkO1xyXG4gICAgICByZXR1cm4geyBpZCwgLi4uZGF0YSB9IGFzIERpc2NvcmRUaWVyV2l0aFByaWNlcztcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBBZG1pbk1vbmV0aXplZFNlcnZlcnNGaXJlc3RvcmVDb252ZXJ0ZXI6IEZpcmVzdG9yZURhdGFDb252ZXJ0ZXI8TW9uZXRpemVkU2VydmVyPiA9XHJcbiAge1xyXG4gICAgdG9GaXJlc3RvcmUocG9zdDogTW9uZXRpemVkU2VydmVyKTogRG9jdW1lbnREYXRhIHtcclxuICAgICAgcmV0dXJuIHsgLi4ucG9zdCB9O1xyXG4gICAgfSxcclxuICAgIGZyb21GaXJlc3RvcmUoc25hcHNob3Q6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCk6IE1vbmV0aXplZFNlcnZlciB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC5kYXRhKCk7XHJcbiAgICAgIHJldHVybiBkYXRhIGFzIE1vbmV0aXplZFNlcnZlcjtcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBBZG1pblVzZXJTdWJzY3JpcHRpb25GaXJlc3RvcmVDb252ZXJ0ZXI6IEZpcmVzdG9yZURhdGFDb252ZXJ0ZXI8VXNlclN1YnNjcmlwdGlvbj4gPVxyXG4gIHtcclxuICAgIHRvRmlyZXN0b3JlKHBvc3Q6IFVzZXJTdWJzY3JpcHRpb24pOiBEb2N1bWVudERhdGEge1xyXG4gICAgICByZXR1cm4gcG9zdDtcclxuICAgIH0sXHJcbiAgICBmcm9tRmlyZXN0b3JlKHNuYXBzaG90OiBRdWVyeURvY3VtZW50U25hcHNob3QpOiBVc2VyU3Vic2NyaXB0aW9uIHtcclxuICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRhdGEoKTtcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgVXNlclN1YnNjcmlwdGlvbjtcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBUaWVyUGF0aHMgPSB7XHJcbiAgY29sbGVjdGlvbjogZmlyZXN0b3JlKClcclxuICAgIC5jb2xsZWN0aW9uKFwidGllcnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluRGlzY29yZFRpZXJGaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIHVzZXJTZXJ2ZXJUaWVyczogKHVzZXJJZDogc3RyaW5nLCBzZXJ2ZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ0aWVyc1wiKVxyXG4gICAgICAud2hlcmUoXCJzZWxsZXJJZFwiLCBcIj09XCIsIHVzZXJJZClcclxuICAgICAgLndoZXJlKFwiZ3VpbGRJZFwiLCBcIj09XCIsIHNlcnZlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICB1c2VyU2VydmVyVGllcnNXaXRoUHJpY2VzOiAodXNlcklkOiBzdHJpbmcsIHNlcnZlcklkOiBzdHJpbmcpID0+XHJcbiAgICBmaXJlc3RvcmUoKVxyXG4gICAgICAuY29sbGVjdGlvbihcInRpZXJzXCIpXHJcbiAgICAgIC53aGVyZShcInNlbGxlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxyXG4gICAgICAud2hlcmUoXCJndWlsZElkXCIsIFwiPT1cIiwgc2VydmVySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluRGlzY29yZFRpZXJXaXRoUHJpY2VzRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICB0aWVyOiAodGllcklkOiBzdHJpbmcpID0+XHJcbiAgICBmaXJlc3RvcmUoKVxyXG4gICAgICAuY29sbGVjdGlvbihcInRpZXJzXCIpXHJcbiAgICAgIC5kb2ModGllcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICB0aWVyc0J5UHJvZHVjdElkOiAocHJvZHVjdElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ0aWVyc1wiKVxyXG4gICAgICAud2hlcmUoXCJwcm9kdWN0SWRcIiwgXCI9PVwiLCBwcm9kdWN0SWQpXHJcbiAgICAgIC53aGVyZShcInNlbGxlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBNb25ldGl6ZWRTZXJ2ZXJzID0ge1xyXG4gIGNvbGxlY3Rpb246IGZpcmVzdG9yZSgpXHJcbiAgICAuY29sbGVjdGlvbihcIm1vbmV0aXplZFNlcnZlcnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgbW9uZXRpemVkU2VydmVyczogKHVzZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJtb25ldGl6ZWRTZXJ2ZXJzXCIpXHJcbiAgICAgIC53aGVyZShcIm93bmVySWRcIiwgXCI9PVwiLCB1c2VySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgbW9uZXRpemVkU2VydmVyOiAoc2VydmVySWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpID0+XHJcbiAgICBmaXJlc3RvcmUoKVxyXG4gICAgICAuY29sbGVjdGlvbihcIm1vbmV0aXplZFNlcnZlcnNcIilcclxuICAgICAgLndoZXJlKFwib3duZXJJZFwiLCBcIj09XCIsIHVzZXJJZClcclxuICAgICAgLndoZXJlKGZpcmVzdG9yZS5GaWVsZFBhdGguZG9jdW1lbnRJZCgpLCBcIj09XCIsIHNlcnZlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbk1vbmV0aXplZFNlcnZlcnNGaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIG1vbmV0aXplZFNlcnZlckJ5SWQ6IChzZXJ2ZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJtb25ldGl6ZWRTZXJ2ZXJzXCIpXHJcbiAgICAgIC5kb2Moc2VydmVySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciksXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVXNlclN1YnNjcmlwdGlvbnMgPSB7XHJcbiAgY29sbGVjdGlvbjogZmlyZXN0b3JlKClcclxuICAgIC5jb2xsZWN0aW9uKFwidXNlclN1YnNjcmlwdGlvbnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgdXNlclN1YnNjcmlwdGlvbkJ5U3ViSWQ6IChzdWJzY3JpcHRpb25JZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ1c2VyU3Vic2NyaXB0aW9uc1wiKVxyXG4gICAgICAuZG9jKHN1YnNjcmlwdGlvbklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pblVzZXJTdWJzY3JpcHRpb25GaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIHVzZXJTdWJzY3JpcHRpb25CeVVzZXJJZDogKHVzZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ1c2VyU3Vic2NyaXB0aW9uc1wiKVxyXG4gICAgICAud2hlcmUoXCJ1c2VySWRcIiwgXCI9PVwiLCB1c2VySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgdXNlclN1YnNjcmlwdGlvbkJ5U2VydmVySWQ6ICh1c2VySWQ6IHN0cmluZywgc2VydmVySWQ6IHN0cmluZykgPT5cclxuICAgIGZpcmVzdG9yZSgpXHJcbiAgICAgIC5jb2xsZWN0aW9uKFwidXNlclN1YnNjcmlwdGlvbnNcIilcclxuICAgICAgLndoZXJlKFwidXNlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxyXG4gICAgICAud2hlcmUoXCJndWlsZElkXCIsIFwiPT1cIiwgc2VydmVySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciksXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgQ3VzdG9tZXJQYXRocyA9IHtcclxuICBjb2xsZWN0aW9uOiBmaXJlc3RvcmUoKVxyXG4gICAgLmNvbGxlY3Rpb24oXCJjdXN0b21lcnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluQ3VzdG9tZXJGaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIGN1c3RvbWVyQnlVc2VySWQ6ICh1c2VySWQ6IHN0cmluZykgPT5cclxuICAgIGZpcmVzdG9yZSgpXHJcbiAgICAgIC5jb2xsZWN0aW9uKFwiY3VzdG9tZXJzXCIpXHJcbiAgICAgIC5kb2ModXNlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkN1c3RvbWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICBjdXN0b21lckJ5Q3VzdG9tZXJJZDogKGN1c3RvbWVySWQ6IHN0cmluZykgPT5cclxuICAgIGZpcmVzdG9yZSgpXHJcbiAgICAgIC5jb2xsZWN0aW9uKFwiY3VzdG9tZXJzXCIpXHJcbiAgICAgIC53aGVyZShcInN0cmlwZUN1c3RvbWVySWRcIiwgXCI9PVwiLCBjdXN0b21lcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkN1c3RvbWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICBjdXN0b21lckJ5U3Vic2NyaXB0aW9uSWQ6IChzdWJzY3JpcHRpb25JZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJjdXN0b21lcnNcIilcclxuICAgICAgLndoZXJlKFwic3RyaXBlU3Vic2NyaXB0aW9uSWRcIiwgXCI9PVwiLCBzdWJzY3JpcHRpb25JZClcclxuICAgICAgLndpdGhDb252ZXJ0ZXIoQWRtaW5DdXN0b21lckZpcmVzdG9yZUNvbnZlcnRlciksXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJmaXJlc3RvcmUiLCJjdXN0b21Jbml0QXBwIiwiQWRtaW5DdXN0b21lckZpcmVzdG9yZUNvbnZlcnRlciIsInRvRmlyZXN0b3JlIiwicG9zdCIsImZyb21GaXJlc3RvcmUiLCJzbmFwc2hvdCIsImRhdGEiLCJBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyIiwiaWQiLCJBZG1pbkRpc2NvcmRUaWVyV2l0aFByaWNlc0ZpcmVzdG9yZUNvbnZlcnRlciIsIkFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciIsIkFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciIsIlRpZXJQYXRocyIsImNvbGxlY3Rpb24iLCJ3aXRoQ29udmVydGVyIiwidXNlclNlcnZlclRpZXJzIiwidXNlcklkIiwic2VydmVySWQiLCJ3aGVyZSIsInVzZXJTZXJ2ZXJUaWVyc1dpdGhQcmljZXMiLCJ0aWVyIiwidGllcklkIiwiZG9jIiwidGllcnNCeVByb2R1Y3RJZCIsInByb2R1Y3RJZCIsIk1vbmV0aXplZFNlcnZlcnMiLCJtb25ldGl6ZWRTZXJ2ZXJzIiwibW9uZXRpemVkU2VydmVyIiwiRmllbGRQYXRoIiwiZG9jdW1lbnRJZCIsIm1vbmV0aXplZFNlcnZlckJ5SWQiLCJVc2VyU3Vic2NyaXB0aW9ucyIsInVzZXJTdWJzY3JpcHRpb25CeVN1YklkIiwic3Vic2NyaXB0aW9uSWQiLCJ1c2VyU3Vic2NyaXB0aW9uQnlVc2VySWQiLCJ1c2VyU3Vic2NyaXB0aW9uQnlTZXJ2ZXJJZCIsIkN1c3RvbWVyUGF0aHMiLCJjdXN0b21lckJ5VXNlcklkIiwiY3VzdG9tZXJCeUN1c3RvbWVySWQiLCJjdXN0b21lcklkIiwiY3VzdG9tZXJCeVN1YnNjcmlwdGlvbklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db-lib/firestore-db-paths.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db-lib/index.ts":
/*!**************************************!*\
  !*** ../../packages/db-lib/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminCustomerFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminCustomerFirestoreConverter),\n/* harmony export */   AdminDiscordTierFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminDiscordTierFirestoreConverter),\n/* harmony export */   AdminDiscordTierWithPricesFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminDiscordTierWithPricesFirestoreConverter),\n/* harmony export */   AdminMonetizedServersFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminMonetizedServersFirestoreConverter),\n/* harmony export */   AdminUserSubscriptionFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminUserSubscriptionFirestoreConverter),\n/* harmony export */   CustomerPaths: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.CustomerPaths),\n/* harmony export */   MonetizedServers: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.MonetizedServers),\n/* harmony export */   TierPaths: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.TierPaths),\n/* harmony export */   UserSubscriptions: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.UserSubscriptions),\n/* harmony export */   customInitApp: () => (/* reexport safe */ _firebase_admin_config__WEBPACK_IMPORTED_MODULE_0__.customInitApp)\n/* harmony export */ });\n/* harmony import */ var _firebase_admin_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase-admin-config */ \"(rsc)/../../packages/db-lib/firebase-admin-config.ts\");\n/* harmony import */ var _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firestore-db-paths */ \"(rsc)/../../packages/db-lib/firestore-db-paths.ts\");\n// @index('./**/*.ts', f => `export * from '${f.path}'`)\n\n // @endindex\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGItbGliL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHdEQUF3RDtBQUNoQjtBQUNILENBQ3JDLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac3RyaXBlLWRpc2NvcmQvc2VsbGVyLy4uLy4uL3BhY2thZ2VzL2RiLWxpYi9pbmRleC50cz9kNzljIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBpbmRleCgnLi8qKi8qLnRzJywgZiA9PiBgZXhwb3J0ICogZnJvbSAnJHtmLnBhdGh9J2ApXHJcbmV4cG9ydCAqIGZyb20gXCIuL2ZpcmViYXNlLWFkbWluLWNvbmZpZ1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9maXJlc3RvcmUtZGItcGF0aHNcIjtcclxuLy8gQGVuZGluZGV4XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db-lib/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fverify-subscription%2Froute&page=%2Fapi%2Fverify-subscription%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fverify-subscription%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();