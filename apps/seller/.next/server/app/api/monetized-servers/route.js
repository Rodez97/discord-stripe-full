"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/monetized-servers/route";
exports.ids = ["app/api/monetized-servers/route"];
exports.modules = {

/***/ "firebase-admin":
/*!*********************************!*\
  !*** external "firebase-admin" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("firebase-admin");

/***/ }),

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("firebase-admin/app");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "node:buffer":
/*!******************************!*\
  !*** external "node:buffer" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:buffer");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "node:events":
/*!******************************!*\
  !*** external "node:events" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:events");

/***/ }),

/***/ "node:http":
/*!****************************!*\
  !*** external "node:http" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:http");

/***/ }),

/***/ "node:https":
/*!*****************************!*\
  !*** external "node:https" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node:https");

/***/ }),

/***/ "node:util":
/*!****************************!*\
  !*** external "node:util" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("node:util");

/***/ }),

/***/ "(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmonetized-servers%2Froute&page=%2Fapi%2Fmonetized-servers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmonetized-servers%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmonetized-servers%2Froute&page=%2Fapi%2Fmonetized-servers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmonetized-servers%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/../../node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/../../node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/../../node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mnt_d_Main_Proyects_discord_stripe_mono_apps_seller_src_app_api_monetized_servers_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/monetized-servers/route.ts */ \"(rsc)/./src/app/api/monetized-servers/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/monetized-servers/route\",\n        pathname: \"/api/monetized-servers\",\n        filename: \"route\",\n        bundlePath: \"app/api/monetized-servers/route\"\n    },\n    resolvedPagePath: \"/mnt/d/Main-Proyects/discord-stripe-mono/apps/seller/src/app/api/monetized-servers/route.ts\",\n    nextConfigOutput,\n    userland: _mnt_d_Main_Proyects_discord_stripe_mono_apps_seller_src_app_api_monetized_servers_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/monetized-servers/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGbW9uZXRpemVkLXNlcnZlcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1vbmV0aXplZC1zZXJ2ZXJzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbW9uZXRpemVkLXNlcnZlcnMlMkZyb3V0ZS50cyZhcHBEaXI9JTJGbW50JTJGZCUyRk1haW4tUHJveWVjdHMlMkZkaXNjb3JkLXN0cmlwZS1tb25vJTJGYXBwcyUyRnNlbGxlciUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGbW50JTJGZCUyRk1haW4tUHJveWVjdHMlMkZkaXNjb3JkLXN0cmlwZS1tb25vJTJGYXBwcyUyRnNlbGxlciZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUMyQztBQUN4SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL0BzdHJpcGUtZGlzY29yZC9zZWxsZXIvPzJhZTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL21udC9kL01haW4tUHJveWVjdHMvZGlzY29yZC1zdHJpcGUtbW9uby9hcHBzL3NlbGxlci9zcmMvYXBwL2FwaS9tb25ldGl6ZWQtc2VydmVycy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbW9uZXRpemVkLXNlcnZlcnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9tb25ldGl6ZWQtc2VydmVyc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvbW9uZXRpemVkLXNlcnZlcnMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvbW50L2QvTWFpbi1Qcm95ZWN0cy9kaXNjb3JkLXN0cmlwZS1tb25vL2FwcHMvc2VsbGVyL3NyYy9hcHAvYXBpL21vbmV0aXplZC1zZXJ2ZXJzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL21vbmV0aXplZC1zZXJ2ZXJzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmonetized-servers%2Froute&page=%2Fapi%2Fmonetized-servers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmonetized-servers%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./auth.config.ts":
/*!************************!*\
  !*** ./auth.config.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authConfig: () => (/* binding */ authConfig)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_discord__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/discord */ \"(rsc)/../../node_modules/next-auth/providers/discord.js\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth */ \"(rsc)/./auth.ts\");\n\n\nconst authConfig = {\n    providers: [\n        (0,next_auth_providers_discord__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            clientId: process.env.DISCORD_CLIENT_ID,\n            clientSecret: process.env.DISCORD_CLIENT_SECRET,\n            token: \"https://discord.com/api/oauth2/token\",\n            userinfo: \"https://discord.com/api/users/@me\",\n            authorization: {\n                params: {\n                    scope: \"identify email guilds\"\n                }\n            }\n        })\n    ],\n    pages: {\n        signIn: \"/login\",\n        signOut: \"/logout\"\n    },\n    callbacks: {\n        authorized ({ auth, request: { nextUrl } }) {\n            const loginPath = \"/login\";\n            const isLoggedIn = !!auth?.user;\n            const pathname = nextUrl.pathname;\n            const isSubscribed = Boolean(auth?.user?.subscription);\n            const isOnApp = !nextUrl.pathname.startsWith(loginPath);\n            if (isOnApp) {\n                if (!isLoggedIn) return false;\n            } else if (isLoggedIn) {\n                return Response.redirect(new URL(\"/\", nextUrl));\n            }\n            if (isLoggedIn && !isSubscribed && ![\n                \"/get-started\",\n                \"/logout\",\n                \"/subscribe\",\n                \"/subscribe-success\"\n            ].includes(pathname)) {\n                return Response.redirect(new URL(\"/get-started\", nextUrl));\n            }\n            if (isLoggedIn && isSubscribed && [\n                \"/get-started\",\n                \"/subscribe\"\n            ].includes(pathname)) {\n                return Response.redirect(new URL(\"/\", nextUrl));\n            }\n            return true;\n        },\n        async session ({ session, token }) {\n            const { accessToken, sub, subscription } = token;\n            return {\n                ...session,\n                user: {\n                    ...session.user,\n                    id: sub,\n                    accessToken,\n                    subscription\n                }\n            };\n        },\n        async jwt ({ token, account }) {\n            if (account) {\n                token.accessToken = account.access_token;\n                token.accessTokenExpires = Date.now() + account.expires_in * 1000;\n                token.refreshToken = account.refresh_token;\n            }\n            const subscriptionValidityExpires = token.subscriptionValidityExpires;\n            const accessTokenExpires = token.accessTokenExpires;\n            if (!subscriptionValidityExpires || Date.now() < subscriptionValidityExpires) {\n                token = await refreshSubscriptionStatus(token);\n            }\n            // Return previous token if the access token has not expired yet\n            if (accessTokenExpires && Date.now() < accessTokenExpires) {\n                return token;\n            }\n            // Access token has expired, try to update it\n            return refreshAccessToken(token);\n        }\n    }\n};\nasync function refreshAccessToken(token) {\n    try {\n        if (!token.refreshToken) {\n            // If there is no refresh token, sign out user and redirect to login page\n            await (0,_auth__WEBPACK_IMPORTED_MODULE_1__.signOut)();\n            return {\n                ...token,\n                error: \"RefreshAccessTokenError\"\n            };\n        }\n        const url = \"https://discord.com/api/v10/oauth2/token\";\n        const response = await fetch(url, {\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            },\n            method: \"POST\",\n            body: new URLSearchParams({\n                client_id: process.env.DISCORD_CLIENT_ID,\n                client_secret: process.env.DISCORD_CLIENT_SECRET,\n                grant_type: \"refresh_token\",\n                refresh_token: token.refreshToken\n            })\n        });\n        const refreshedTokens = await response.json();\n        if (!response.ok) {\n            throw refreshedTokens;\n        }\n        return {\n            ...token,\n            accessToken: refreshedTokens.access_token,\n            accessTokenExpires: Date.now() + refreshedTokens.expires_in * 1000,\n            refreshToken: refreshedTokens.refresh_token ?? token.refreshToken\n        };\n    } catch (error) {\n        console.log(error);\n        return {\n            ...token,\n            error: \"RefreshAccessTokenError\"\n        };\n    }\n}\nasync function refreshSubscriptionStatus(token) {\n    try {\n        const response = await fetch(`${process.env.NEXTAUTH_URL}/api/verify-subscription`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                userId: token.sub\n            })\n        });\n        const data = await response.json();\n        if (!response.ok) {\n            throw data;\n        }\n        return {\n            ...token,\n            subscription: data.isSub,\n            subscriptionValidityExpires: Date.now() + 1000 * 60 * 60 * 24\n        };\n    } catch (error) {\n        console.log(error);\n        return {\n            ...token,\n            error: \"RefreshAccessTokenError\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RzdELEtBQUs7WUFDUmtCLGNBQWMyQyxLQUFLQyxLQUFLO1lBQ3hCeEIsNkJBQTZCTCxLQUFLQyxHQUFHLEtBQUssT0FBTyxLQUFLLEtBQUs7UUFDN0Q7SUFDRixFQUFFLE9BQU9PLE9BQU87UUFDZGMsUUFBUUMsR0FBRyxDQUFDZjtRQUVaLE9BQU87WUFDTCxHQUFHekMsS0FBSztZQUNSeUMsT0FBTztRQUNUO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL0BzdHJpcGUtZGlzY29yZC9zZWxsZXIvLi9hdXRoLmNvbmZpZy50cz80MzA4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEF1dGhDb25maWcgfSBmcm9tIFwibmV4dC1hdXRoXCI7XHJcbmltcG9ydCBEaXNjb3JkUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZGlzY29yZFwiO1xyXG5pbXBvcnQgeyBzaWduT3V0IH0gZnJvbSBcIi4vYXV0aFwiO1xyXG5pbXBvcnQgeyBKV1QgfSBmcm9tIFwiQGF1dGgvY29yZS9qd3RcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBhdXRoQ29uZmlnID0ge1xyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgRGlzY29yZFByb3ZpZGVyKHtcclxuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkRJU0NPUkRfQ0xJRU5UX0lELFxyXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkRJU0NPUkRfQ0xJRU5UX1NFQ1JFVCxcclxuICAgICAgdG9rZW46IFwiaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvb2F1dGgyL3Rva2VuXCIsXHJcbiAgICAgIHVzZXJpbmZvOiBcImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3VzZXJzL0BtZVwiLFxyXG4gICAgICBhdXRob3JpemF0aW9uOiB7XHJcbiAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICBzY29wZTogXCJpZGVudGlmeSBlbWFpbCBndWlsZHNcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgfSksXHJcbiAgXSxcclxuICBwYWdlczoge1xyXG4gICAgc2lnbkluOiBcIi9sb2dpblwiLFxyXG4gICAgc2lnbk91dDogXCIvbG9nb3V0XCIsXHJcbiAgfSxcclxuICBjYWxsYmFja3M6IHtcclxuICAgIGF1dGhvcml6ZWQoeyBhdXRoLCByZXF1ZXN0OiB7IG5leHRVcmwgfSB9KSB7XHJcbiAgICAgIGNvbnN0IGxvZ2luUGF0aCA9IFwiL2xvZ2luXCI7XHJcbiAgICAgIGNvbnN0IGlzTG9nZ2VkSW4gPSAhIWF1dGg/LnVzZXI7XHJcbiAgICAgIGNvbnN0IHBhdGhuYW1lID0gbmV4dFVybC5wYXRobmFtZTtcclxuICAgICAgY29uc3QgaXNTdWJzY3JpYmVkID0gQm9vbGVhbihhdXRoPy51c2VyPy5zdWJzY3JpcHRpb24pO1xyXG4gICAgICBjb25zdCBpc09uQXBwID0gIW5leHRVcmwucGF0aG5hbWUuc3RhcnRzV2l0aChsb2dpblBhdGgpO1xyXG4gICAgICBpZiAoaXNPbkFwcCkge1xyXG4gICAgICAgIGlmICghaXNMb2dnZWRJbikgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTG9nZ2VkSW4pIHtcclxuICAgICAgICByZXR1cm4gUmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9cIiwgbmV4dFVybCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgaXNMb2dnZWRJbiAmJlxyXG4gICAgICAgICFpc1N1YnNjcmliZWQgJiZcclxuICAgICAgICAhW1xyXG4gICAgICAgICAgXCIvZ2V0LXN0YXJ0ZWRcIixcclxuICAgICAgICAgIFwiL2xvZ291dFwiLFxyXG4gICAgICAgICAgXCIvc3Vic2NyaWJlXCIsXHJcbiAgICAgICAgICBcIi9zdWJzY3JpYmUtc3VjY2Vzc1wiLFxyXG4gICAgICAgIF0uaW5jbHVkZXMocGF0aG5hbWUpXHJcbiAgICAgICkge1xyXG4gICAgICAgIHJldHVybiBSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKFwiL2dldC1zdGFydGVkXCIsIG5leHRVcmwpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGlzTG9nZ2VkSW4gJiZcclxuICAgICAgICBpc1N1YnNjcmliZWQgJiZcclxuICAgICAgICBbXCIvZ2V0LXN0YXJ0ZWRcIiwgXCIvc3Vic2NyaWJlXCJdLmluY2x1ZGVzKHBhdGhuYW1lKVxyXG4gICAgICApIHtcclxuICAgICAgICByZXR1cm4gUmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9cIiwgbmV4dFVybCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfSkge1xyXG4gICAgICBjb25zdCB7IGFjY2Vzc1Rva2VuLCBzdWIsIHN1YnNjcmlwdGlvbiB9ID0gdG9rZW47XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnNlc3Npb24sXHJcbiAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgLi4uc2Vzc2lvbi51c2VyLFxyXG4gICAgICAgICAgaWQ6IHN1YiEsXHJcbiAgICAgICAgICBhY2Nlc3NUb2tlbixcclxuICAgICAgICAgIHN1YnNjcmlwdGlvbixcclxuICAgICAgICB9LFxyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCBhY2NvdW50IH0pIHtcclxuICAgICAgaWYgKGFjY291bnQpIHtcclxuICAgICAgICB0b2tlbi5hY2Nlc3NUb2tlbiA9IGFjY291bnQuYWNjZXNzX3Rva2VuO1xyXG4gICAgICAgIHRva2VuLmFjY2Vzc1Rva2VuRXhwaXJlcyA9IERhdGUubm93KCkgKyBhY2NvdW50LmV4cGlyZXNfaW4gKiAxMDAwO1xyXG4gICAgICAgIHRva2VuLnJlZnJlc2hUb2tlbiA9IGFjY291bnQucmVmcmVzaF90b2tlbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uVmFsaWRpdHlFeHBpcmVzID0gdG9rZW4uc3Vic2NyaXB0aW9uVmFsaWRpdHlFeHBpcmVzO1xyXG4gICAgICBjb25zdCBhY2Nlc3NUb2tlbkV4cGlyZXMgPSB0b2tlbi5hY2Nlc3NUb2tlbkV4cGlyZXM7XHJcblxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgIXN1YnNjcmlwdGlvblZhbGlkaXR5RXhwaXJlcyB8fFxyXG4gICAgICAgIERhdGUubm93KCkgPCBzdWJzY3JpcHRpb25WYWxpZGl0eUV4cGlyZXNcclxuICAgICAgKSB7XHJcbiAgICAgICAgdG9rZW4gPSBhd2FpdCByZWZyZXNoU3Vic2NyaXB0aW9uU3RhdHVzKHRva2VuKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmV0dXJuIHByZXZpb3VzIHRva2VuIGlmIHRoZSBhY2Nlc3MgdG9rZW4gaGFzIG5vdCBleHBpcmVkIHlldFxyXG4gICAgICBpZiAoYWNjZXNzVG9rZW5FeHBpcmVzICYmIERhdGUubm93KCkgPCBhY2Nlc3NUb2tlbkV4cGlyZXMpIHtcclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFjY2VzcyB0b2tlbiBoYXMgZXhwaXJlZCwgdHJ5IHRvIHVwZGF0ZSBpdFxyXG4gICAgICByZXR1cm4gcmVmcmVzaEFjY2Vzc1Rva2VuKHRva2VuKTtcclxuICAgIH0sXHJcbiAgfSxcclxufSBzYXRpc2ZpZXMgTmV4dEF1dGhDb25maWc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiByZWZyZXNoQWNjZXNzVG9rZW4odG9rZW46IEpXVCk6IFByb21pc2U8SldUPiB7XHJcbiAgdHJ5IHtcclxuICAgIGlmICghdG9rZW4ucmVmcmVzaFRva2VuKSB7XHJcbiAgICAgIC8vIElmIHRoZXJlIGlzIG5vIHJlZnJlc2ggdG9rZW4sIHNpZ24gb3V0IHVzZXIgYW5kIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2VcclxuICAgICAgYXdhaXQgc2lnbk91dCgpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAuLi50b2tlbixcclxuICAgICAgICBlcnJvcjogXCJSZWZyZXNoQWNjZXNzVG9rZW5FcnJvclwiLFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly9kaXNjb3JkLmNvbS9hcGkvdjEwL29hdXRoMi90b2tlblwiO1xyXG5cclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLFxyXG4gICAgICB9LFxyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICBib2R5OiBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcclxuICAgICAgICBjbGllbnRfaWQ6IHByb2Nlc3MuZW52LkRJU0NPUkRfQ0xJRU5UX0lELFxyXG4gICAgICAgIGNsaWVudF9zZWNyZXQ6IHByb2Nlc3MuZW52LkRJU0NPUkRfQ0xJRU5UX1NFQ1JFVCxcclxuICAgICAgICBncmFudF90eXBlOiBcInJlZnJlc2hfdG9rZW5cIixcclxuICAgICAgICByZWZyZXNoX3Rva2VuOiB0b2tlbi5yZWZyZXNoVG9rZW4sXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVmcmVzaGVkVG9rZW5zID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgcmVmcmVzaGVkVG9rZW5zO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnRva2VuLFxyXG4gICAgICBhY2Nlc3NUb2tlbjogcmVmcmVzaGVkVG9rZW5zLmFjY2Vzc190b2tlbixcclxuICAgICAgYWNjZXNzVG9rZW5FeHBpcmVzOiBEYXRlLm5vdygpICsgcmVmcmVzaGVkVG9rZW5zLmV4cGlyZXNfaW4gKiAxMDAwLFxyXG4gICAgICByZWZyZXNoVG9rZW46IHJlZnJlc2hlZFRva2Vucy5yZWZyZXNoX3Rva2VuID8/IHRva2VuLnJlZnJlc2hUb2tlbiwgLy8gRmFsbCBiYWNrIHRvIG9sZCByZWZyZXNoIHRva2VuXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLi4udG9rZW4sXHJcbiAgICAgIGVycm9yOiBcIlJlZnJlc2hBY2Nlc3NUb2tlbkVycm9yXCIsXHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmVmcmVzaFN1YnNjcmlwdGlvblN0YXR1cyh0b2tlbjogSldUKTogUHJvbWlzZTxKV1Q+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgYCR7cHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMfS9hcGkvdmVyaWZ5LXN1YnNjcmlwdGlvbmAsXHJcbiAgICAgIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VySWQ6IHRva2VuLnN1YiB9KSxcclxuICAgICAgfVxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgdGhyb3cgZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAuLi50b2tlbixcclxuICAgICAgc3Vic2NyaXB0aW9uOiBkYXRhLmlzU3ViLFxyXG4gICAgICBzdWJzY3JpcHRpb25WYWxpZGl0eUV4cGlyZXM6IERhdGUubm93KCkgKyAxMDAwICogNjAgKiA2MCAqIDI0LCAvLyAyNCBob3Vyc1xyXG4gICAgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC4uLnRva2VuLFxyXG4gICAgICBlcnJvcjogXCJSZWZyZXNoQWNjZXNzVG9rZW5FcnJvclwiLFxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIkRpc2NvcmRQcm92aWRlciIsInNpZ25PdXQiLCJhdXRoQ29uZmlnIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiRElTQ09SRF9DTElFTlRfSUQiLCJjbGllbnRTZWNyZXQiLCJESVNDT1JEX0NMSUVOVF9TRUNSRVQiLCJ0b2tlbiIsInVzZXJpbmZvIiwiYXV0aG9yaXphdGlvbiIsInBhcmFtcyIsInNjb3BlIiwicGFnZXMiLCJzaWduSW4iLCJjYWxsYmFja3MiLCJhdXRob3JpemVkIiwiYXV0aCIsInJlcXVlc3QiLCJuZXh0VXJsIiwibG9naW5QYXRoIiwiaXNMb2dnZWRJbiIsInVzZXIiLCJwYXRobmFtZSIsImlzU3Vic2NyaWJlZCIsIkJvb2xlYW4iLCJzdWJzY3JpcHRpb24iLCJpc09uQXBwIiwic3RhcnRzV2l0aCIsIlJlc3BvbnNlIiwicmVkaXJlY3QiLCJVUkwiLCJpbmNsdWRlcyIsInNlc3Npb24iLCJhY2Nlc3NUb2tlbiIsInN1YiIsImlkIiwiand0IiwiYWNjb3VudCIsImFjY2Vzc190b2tlbiIsImFjY2Vzc1Rva2VuRXhwaXJlcyIsIkRhdGUiLCJub3ciLCJleHBpcmVzX2luIiwicmVmcmVzaFRva2VuIiwicmVmcmVzaF90b2tlbiIsInN1YnNjcmlwdGlvblZhbGlkaXR5RXhwaXJlcyIsInJlZnJlc2hTdWJzY3JpcHRpb25TdGF0dXMiLCJyZWZyZXNoQWNjZXNzVG9rZW4iLCJlcnJvciIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJoZWFkZXJzIiwibWV0aG9kIiwiYm9keSIsIlVSTFNlYXJjaFBhcmFtcyIsImNsaWVudF9pZCIsImNsaWVudF9zZWNyZXQiLCJncmFudF90eXBlIiwicmVmcmVzaGVkVG9rZW5zIiwianNvbiIsIm9rIiwiY29uc29sZSIsImxvZyIsIk5FWFRBVVRIX1VSTCIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VySWQiLCJkYXRhIiwiaXNTdWIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./auth.config.ts\n");

/***/ }),

/***/ "(rsc)/./auth.ts":
/*!*****************!*\
  !*** ./auth.ts ***!
  \*****************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/../../node_modules/next-auth/index.js\");\n/* harmony import */ var _auth_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./auth.config */ \"(rsc)/./auth.config.ts\");\n\n\nconst { handlers: { GET, POST }, auth, signIn, signOut } = (0,next_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(_auth_config__WEBPACK_IMPORTED_MODULE_1__.authConfig);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hdXRoLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBaUM7QUFDVTtBQUVwQyxNQUFNLEVBQ1hFLFVBQVUsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEVBQUUsRUFDdkJDLElBQUksRUFDSkMsTUFBTSxFQUNOQyxPQUFPLEVBQ1IsR0FBR1AscURBQVFBLENBQUNDLG9EQUFVQSxFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQHN0cmlwZS1kaXNjb3JkL3NlbGxlci8uL2F1dGgudHM/OTIzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGggZnJvbSBcIm5leHQtYXV0aFwiO1xyXG5pbXBvcnQgeyBhdXRoQ29uZmlnIH0gZnJvbSBcIi4vYXV0aC5jb25maWdcIjtcclxuXHJcbmV4cG9ydCBjb25zdCB7XHJcbiAgaGFuZGxlcnM6IHsgR0VULCBQT1NUIH0sXHJcbiAgYXV0aCxcclxuICBzaWduSW4sXHJcbiAgc2lnbk91dCxcclxufSA9IE5leHRBdXRoKGF1dGhDb25maWcpO1xyXG4iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJhdXRoQ29uZmlnIiwiaGFuZGxlcnMiLCJHRVQiLCJQT1NUIiwiYXV0aCIsInNpZ25JbiIsInNpZ25PdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/app/api/monetized-servers/route.ts":
/*!************************************************!*\
  !*** ./src/app/api/monetized-servers/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/../../node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../auth */ \"(rsc)/./auth.ts\");\n/* harmony import */ var _stripe_discord_db_lib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @stripe-discord/db-lib */ \"(rsc)/../../packages/db-lib/index.ts\");\n\n\n\nasync function GET() {\n    try {\n        const session = await (0,_auth__WEBPACK_IMPORTED_MODULE_1__.auth)();\n        if (!session) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"The user is not authenticated.\"\n            }, {\n                status: 401\n            });\n        }\n        const user = session.user;\n        const isSubscribed = user.subscription;\n        const dbRef = _stripe_discord_db_lib__WEBPACK_IMPORTED_MODULE_2__.MonetizedServers.monetizedServers(user.id);\n        const res = await dbRef.get();\n        // Return the URL for client-side redirection\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            isSubscribed,\n            guilds: res.empty ? [] : res.docs.map((doc)=>doc.data())\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error:\", error);\n        let errorMessage = \"Unknown error\";\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        }\n        return new next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"](JSON.stringify(error), {\n            status: 500,\n            statusText: errorMessage\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9tb25ldGl6ZWQtc2VydmVycy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJDO0FBQ0g7QUFDa0I7QUFFbkQsZUFBZUc7SUFDcEIsSUFBSTtRQUNGLE1BQU1DLFVBQVUsTUFBTUgsMkNBQUlBO1FBRTFCLElBQUksQ0FBQ0csU0FBUztZQUNaLE9BQU9KLGtGQUFZQSxDQUFDSyxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWlDLEdBQzFDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNQyxPQUFPSixRQUFRSSxJQUFJO1FBRXpCLE1BQU1DLGVBQWVELEtBQUtFLFlBQVk7UUFFdEMsTUFBTUMsUUFBUVQsb0VBQWdCQSxDQUFDVSxnQkFBZ0IsQ0FBQ0osS0FBS0ssRUFBRTtRQUV2RCxNQUFNQyxNQUFNLE1BQU1ILE1BQU1JLEdBQUc7UUFFM0IsNkNBQTZDO1FBQzdDLE9BQU9mLGtGQUFZQSxDQUFDSyxJQUFJLENBQ3RCO1lBQ0VJO1lBQ0FPLFFBQVFGLElBQUlHLEtBQUssR0FBRyxFQUFFLEdBQUdILElBQUlJLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLE1BQVFBLElBQUlDLElBQUk7UUFDekQsR0FDQTtZQUNFZCxRQUFRO1FBQ1Y7SUFFSixFQUFFLE9BQU9ELE9BQU87UUFDZGdCLFFBQVFoQixLQUFLLENBQUMsVUFBVUE7UUFDeEIsSUFBSWlCLGVBQWU7UUFDbkIsSUFBSWpCLGlCQUFpQmtCLE9BQU87WUFDMUJELGVBQWVqQixNQUFNbUIsT0FBTztRQUM5QjtRQUNBLE9BQU8sSUFBSXpCLGtGQUFZQSxDQUFDMEIsS0FBS0MsU0FBUyxDQUFDckIsUUFBUTtZQUM3Q0MsUUFBUTtZQUNScUIsWUFBWUw7UUFDZDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac3RyaXBlLWRpc2NvcmQvc2VsbGVyLy4vc3JjL2FwcC9hcGkvbW9uZXRpemVkLXNlcnZlcnMvcm91dGUudHM/MTk1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcclxuaW1wb3J0IHsgYXV0aCB9IGZyb20gXCIuLi8uLi8uLi8uLi9hdXRoXCI7XHJcbmltcG9ydCB7IE1vbmV0aXplZFNlcnZlcnMgfSBmcm9tIFwiQHN0cmlwZS1kaXNjb3JkL2RiLWxpYlwiO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKTtcclxuXHJcbiAgICBpZiAoIXNlc3Npb24pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgZXJyb3I6IFwiVGhlIHVzZXIgaXMgbm90IGF1dGhlbnRpY2F0ZWQuXCIgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAxIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1c2VyID0gc2Vzc2lvbi51c2VyO1xyXG5cclxuICAgIGNvbnN0IGlzU3Vic2NyaWJlZCA9IHVzZXIuc3Vic2NyaXB0aW9uO1xyXG5cclxuICAgIGNvbnN0IGRiUmVmID0gTW9uZXRpemVkU2VydmVycy5tb25ldGl6ZWRTZXJ2ZXJzKHVzZXIuaWQpO1xyXG5cclxuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGRiUmVmLmdldCgpO1xyXG5cclxuICAgIC8vIFJldHVybiB0aGUgVVJMIGZvciBjbGllbnQtc2lkZSByZWRpcmVjdGlvblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7XHJcbiAgICAgICAgaXNTdWJzY3JpYmVkLFxyXG4gICAgICAgIGd1aWxkczogcmVzLmVtcHR5ID8gW10gOiByZXMuZG9jcy5tYXAoKGRvYykgPT4gZG9jLmRhdGEoKSksXHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yOlwiLCBlcnJvcik7XHJcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gXCJVbmtub3duIGVycm9yXCI7XHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBOZXh0UmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkoZXJyb3IpLCB7XHJcbiAgICAgIHN0YXR1czogNTAwLFxyXG4gICAgICBzdGF0dXNUZXh0OiBlcnJvck1lc3NhZ2UsXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImF1dGgiLCJNb25ldGl6ZWRTZXJ2ZXJzIiwiR0VUIiwic2Vzc2lvbiIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInVzZXIiLCJpc1N1YnNjcmliZWQiLCJzdWJzY3JpcHRpb24iLCJkYlJlZiIsIm1vbmV0aXplZFNlcnZlcnMiLCJpZCIsInJlcyIsImdldCIsImd1aWxkcyIsImVtcHR5IiwiZG9jcyIsIm1hcCIsImRvYyIsImRhdGEiLCJjb25zb2xlIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwiSlNPTiIsInN0cmluZ2lmeSIsInN0YXR1c1RleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/monetized-servers/route.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db-lib/firebase-admin-config.ts":
/*!******************************************************!*\
  !*** ../../packages/db-lib/firebase-admin-config.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   customInitApp: () => (/* binding */ customInitApp)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__);\n\nconst firebaseAdminConfig = {\n    credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n        projectId: process.env.FIREBASE_ADMIN_PROJECT_ID,\n        clientEmail: process.env.FIREBASE_ADMIN_CLIENT_EMAIL,\n        privateKey: process.env.FIREBASE_ADMIN_PRIVATE_KEY\n    })\n};\nfunction customInitApp() {\n    if ((0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length <= 0) {\n        (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseAdminConfig);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGItbGliL2ZpcmViYXNlLWFkbWluLWNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0U7QUFFbEUsTUFBTUcsc0JBQXNCO0lBQzFCQyxZQUFZRix3REFBSUEsQ0FBQztRQUNmRyxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLHlCQUF5QjtRQUNoREMsYUFBYUgsUUFBUUMsR0FBRyxDQUFDRywyQkFBMkI7UUFDcERDLFlBQVlMLFFBQVFDLEdBQUcsQ0FBQ0ssMEJBQTBCO0lBQ3BEO0FBQ0Y7QUFFTyxTQUFTQztJQUNkLElBQUlaLDJEQUFPQSxHQUFHYSxNQUFNLElBQUksR0FBRztRQUN6QmQsaUVBQWFBLENBQUNHO0lBQ2hCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac3RyaXBlLWRpc2NvcmQvc2VsbGVyLy4uLy4uL3BhY2thZ2VzL2RiLWxpYi9maXJlYmFzZS1hZG1pbi1jb25maWcudHM/YTBjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzLCBjZXJ0IH0gZnJvbSBcImZpcmViYXNlLWFkbWluL2FwcFwiO1xyXG5cclxuY29uc3QgZmlyZWJhc2VBZG1pbkNvbmZpZyA9IHtcclxuICBjcmVkZW50aWFsOiBjZXJ0KHtcclxuICAgIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQURNSU5fUFJPSkVDVF9JRCxcclxuICAgIGNsaWVudEVtYWlsOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9BRE1JTl9DTElFTlRfRU1BSUwsXHJcbiAgICBwcml2YXRlS2V5OiBwcm9jZXNzLmVudi5GSVJFQkFTRV9BRE1JTl9QUklWQVRFX0tFWSxcclxuICB9KSxcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21Jbml0QXBwKCkge1xyXG4gIGlmIChnZXRBcHBzKCkubGVuZ3RoIDw9IDApIHtcclxuICAgIGluaXRpYWxpemVBcHAoZmlyZWJhc2VBZG1pbkNvbmZpZyk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXBwcyIsImNlcnQiLCJmaXJlYmFzZUFkbWluQ29uZmlnIiwiY3JlZGVudGlhbCIsInByb2plY3RJZCIsInByb2Nlc3MiLCJlbnYiLCJGSVJFQkFTRV9BRE1JTl9QUk9KRUNUX0lEIiwiY2xpZW50RW1haWwiLCJGSVJFQkFTRV9BRE1JTl9DTElFTlRfRU1BSUwiLCJwcml2YXRlS2V5IiwiRklSRUJBU0VfQURNSU5fUFJJVkFURV9LRVkiLCJjdXN0b21Jbml0QXBwIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db-lib/firebase-admin-config.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db-lib/firestore-db-paths.ts":
/*!***************************************************!*\
  !*** ../../packages/db-lib/firestore-db-paths.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminCustomerFirestoreConverter: () => (/* binding */ AdminCustomerFirestoreConverter),\n/* harmony export */   AdminDiscordTierFirestoreConverter: () => (/* binding */ AdminDiscordTierFirestoreConverter),\n/* harmony export */   AdminDiscordTierWithPricesFirestoreConverter: () => (/* binding */ AdminDiscordTierWithPricesFirestoreConverter),\n/* harmony export */   AdminMonetizedServersFirestoreConverter: () => (/* binding */ AdminMonetizedServersFirestoreConverter),\n/* harmony export */   AdminUserSubscriptionFirestoreConverter: () => (/* binding */ AdminUserSubscriptionFirestoreConverter),\n/* harmony export */   CustomerPaths: () => (/* binding */ CustomerPaths),\n/* harmony export */   MonetizedServers: () => (/* binding */ MonetizedServers),\n/* harmony export */   TierPaths: () => (/* binding */ TierPaths),\n/* harmony export */   UserSubscriptions: () => (/* binding */ UserSubscriptions)\n/* harmony export */ });\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin */ \"firebase-admin\");\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _firebase_admin_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase-admin-config */ \"(rsc)/../../packages/db-lib/firebase-admin-config.ts\");\n\n\n(0,_firebase_admin_config__WEBPACK_IMPORTED_MODULE_1__.customInitApp)();\nconst AdminCustomerFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        return data;\n    }\n};\nconst AdminDiscordTierFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        const id = snapshot.id;\n        return {\n            id,\n            ...data\n        };\n    }\n};\nconst AdminDiscordTierWithPricesFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        const id = snapshot.id;\n        return {\n            id,\n            ...data\n        };\n    }\n};\nconst AdminMonetizedServersFirestoreConverter = {\n    toFirestore (post) {\n        return {\n            ...post\n        };\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        return data;\n    }\n};\nconst AdminUserSubscriptionFirestoreConverter = {\n    toFirestore (post) {\n        return post;\n    },\n    fromFirestore (snapshot) {\n        const data = snapshot.data();\n        return data;\n    }\n};\nconst TierPaths = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").withConverter(AdminDiscordTierFirestoreConverter),\n    userServerTiers: (userId, serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").where(\"sellerId\", \"==\", userId).where(\"guildId\", \"==\", serverId).withConverter(AdminDiscordTierFirestoreConverter),\n    userServerTiersWithPrices: (userId, serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").where(\"sellerId\", \"==\", userId).where(\"guildId\", \"==\", serverId).withConverter(AdminDiscordTierWithPricesFirestoreConverter),\n    tier: (tierId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").doc(tierId).withConverter(AdminDiscordTierFirestoreConverter),\n    tiersByProductId: (productId, userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"tiers\").where(\"productId\", \"==\", productId).where(\"sellerId\", \"==\", userId).withConverter(AdminDiscordTierFirestoreConverter)\n};\nconst MonetizedServers = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").withConverter(AdminMonetizedServersFirestoreConverter),\n    monetizedServers: (userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").where(\"ownerId\", \"==\", userId).withConverter(AdminMonetizedServersFirestoreConverter),\n    monetizedServer: (serverId, userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").where(\"ownerId\", \"==\", userId).where(firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore.FieldPath.documentId(), \"==\", serverId).withConverter(AdminMonetizedServersFirestoreConverter),\n    monetizedServerById: (serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"monetizedServers\").doc(serverId).withConverter(AdminMonetizedServersFirestoreConverter)\n};\nconst UserSubscriptions = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").withConverter(AdminUserSubscriptionFirestoreConverter),\n    userSubscriptionBySubId: (subscriptionId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").doc(subscriptionId).withConverter(AdminUserSubscriptionFirestoreConverter),\n    userSubscriptionByUserId: (userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").where(\"userId\", \"==\", userId).withConverter(AdminUserSubscriptionFirestoreConverter),\n    userSubscriptionByServerId: (userId, serverId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"userSubscriptions\").where(\"userId\", \"==\", userId).where(\"guildId\", \"==\", serverId).withConverter(AdminUserSubscriptionFirestoreConverter)\n};\nconst CustomerPaths = {\n    collection: (0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").withConverter(AdminCustomerFirestoreConverter),\n    customerByUserId: (userId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").doc(userId).withConverter(AdminCustomerFirestoreConverter),\n    customerByCustomerId: (customerId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").where(\"stripeCustomerId\", \"==\", customerId).withConverter(AdminCustomerFirestoreConverter),\n    customerBySubscriptionId: (subscriptionId)=>(0,firebase_admin__WEBPACK_IMPORTED_MODULE_0__.firestore)().collection(\"customers\").where(\"stripeSubscriptionId\", \"==\", subscriptionId).withConverter(AdminCustomerFirestoreConverter)\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGItbGliL2ZpcmVzdG9yZS1kYi1wYXRocy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBMkM7QUFDYTtBQWdCeERDLHFFQUFhQTtBQUVOLE1BQU1DLGtDQUNYO0lBQ0VDLGFBQVlDLElBQXFDO1FBQy9DLE9BQU9BO0lBQ1Q7SUFDQUMsZUFBY0MsUUFBK0I7UUFDM0MsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtRQUMxQixPQUFPQTtJQUNUO0FBQ0YsRUFBRTtBQUVHLE1BQU1DLHFDQUNYO0lBQ0VMLGFBQVlDLElBQWlCO1FBQzNCLE9BQU9BO0lBQ1Q7SUFDQUMsZUFBY0MsUUFBK0I7UUFDM0MsTUFBTUMsT0FBT0QsU0FBU0MsSUFBSTtRQUMxQixNQUFNRSxLQUFLSCxTQUFTRyxFQUFFO1FBQ3RCLE9BQU87WUFBRUE7WUFBSSxHQUFHRixJQUFJO1FBQUM7SUFDdkI7QUFDRixFQUFFO0FBRUcsTUFBTUcsK0NBQ1g7SUFDRVAsYUFBWUMsSUFBMkM7UUFDckQsT0FBT0E7SUFDVDtJQUNBQyxlQUFjQyxRQUErQjtRQUMzQyxNQUFNQyxPQUFPRCxTQUFTQyxJQUFJO1FBQzFCLE1BQU1FLEtBQUtILFNBQVNHLEVBQUU7UUFDdEIsT0FBTztZQUFFQTtZQUFJLEdBQUdGLElBQUk7UUFBQztJQUN2QjtBQUNGLEVBQUU7QUFFRyxNQUFNSSwwQ0FDWDtJQUNFUixhQUFZQyxJQUFxQjtRQUMvQixPQUFPO1lBQUUsR0FBR0EsSUFBSTtRQUFDO0lBQ25CO0lBQ0FDLGVBQWNDLFFBQStCO1FBQzNDLE1BQU1DLE9BQU9ELFNBQVNDLElBQUk7UUFDMUIsT0FBT0E7SUFDVDtBQUNGLEVBQUU7QUFFRyxNQUFNSywwQ0FDWDtJQUNFVCxhQUFZQyxJQUFzQjtRQUNoQyxPQUFPQTtJQUNUO0lBQ0FDLGVBQWNDLFFBQStCO1FBQzNDLE1BQU1DLE9BQU9ELFNBQVNDLElBQUk7UUFDMUIsT0FBT0E7SUFDVDtBQUNGLEVBQUU7QUFFRyxNQUFNTSxZ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cmQvc2VsbGVyLy4uLy4uL3BhY2thZ2VzL2RiLWxpYi9maXJlc3RvcmUtZGItcGF0aHMudHM/MjNkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaXJlc3RvcmUgfSBmcm9tIFwiZmlyZWJhc2UtYWRtaW5cIjtcclxuaW1wb3J0IHsgY3VzdG9tSW5pdEFwcCB9IGZyb20gXCIuL2ZpcmViYXNlLWFkbWluLWNvbmZpZ1wiO1xyXG5pbXBvcnQge1xyXG4gIEN1c3RvbWVyLFxyXG4gIERpc2NvcmRUaWVyLFxyXG4gIERpc2NvcmRUaWVyV2l0aFByaWNlcyxcclxuICBNb25ldGl6ZWRTZXJ2ZXIsXHJcbiAgVXNlclN1YnNjcmlwdGlvbixcclxufSBmcm9tIFwiQHN0cmlwZS1kaXNjb3JkL3R5cGVzXCI7XHJcbmltcG9ydCB0eXBlIHtcclxuICBEb2N1bWVudERhdGEsXHJcbiAgRmlyZXN0b3JlRGF0YUNvbnZlcnRlcixcclxuICBQYXJ0aWFsV2l0aEZpZWxkVmFsdWUsXHJcbiAgUXVlcnlEb2N1bWVudFNuYXBzaG90LFxyXG4gIFdpdGhGaWVsZFZhbHVlLFxyXG59IGZyb20gXCJmaXJlYmFzZS1hZG1pbi9maXJlc3RvcmVcIjtcclxuXHJcbmN1c3RvbUluaXRBcHAoKTtcclxuXHJcbmV4cG9ydCBjb25zdCBBZG1pbkN1c3RvbWVyRmlyZXN0b3JlQ29udmVydGVyOiBGaXJlc3RvcmVEYXRhQ29udmVydGVyPEN1c3RvbWVyPiA9XHJcbiAge1xyXG4gICAgdG9GaXJlc3RvcmUocG9zdDogUGFydGlhbFdpdGhGaWVsZFZhbHVlPEN1c3RvbWVyPik6IERvY3VtZW50RGF0YSB7XHJcbiAgICAgIHJldHVybiBwb3N0O1xyXG4gICAgfSxcclxuICAgIGZyb21GaXJlc3RvcmUoc25hcHNob3Q6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCk6IEN1c3RvbWVyIHtcclxuICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRhdGEoKTtcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgQ3VzdG9tZXI7XHJcbiAgICB9LFxyXG4gIH07XHJcblxyXG5leHBvcnQgY29uc3QgQWRtaW5EaXNjb3JkVGllckZpcmVzdG9yZUNvbnZlcnRlcjogRmlyZXN0b3JlRGF0YUNvbnZlcnRlcjxEaXNjb3JkVGllcj4gPVxyXG4gIHtcclxuICAgIHRvRmlyZXN0b3JlKHBvc3Q6IERpc2NvcmRUaWVyKTogRG9jdW1lbnREYXRhIHtcclxuICAgICAgcmV0dXJuIHBvc3Q7XHJcbiAgICB9LFxyXG4gICAgZnJvbUZpcmVzdG9yZShzbmFwc2hvdDogUXVlcnlEb2N1bWVudFNuYXBzaG90KTogRGlzY29yZFRpZXIge1xyXG4gICAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpO1xyXG4gICAgICBjb25zdCBpZCA9IHNuYXBzaG90LmlkO1xyXG4gICAgICByZXR1cm4geyBpZCwgLi4uZGF0YSB9IGFzIERpc2NvcmRUaWVyO1xyXG4gICAgfSxcclxuICB9O1xyXG5cclxuZXhwb3J0IGNvbnN0IEFkbWluRGlzY29yZFRpZXJXaXRoUHJpY2VzRmlyZXN0b3JlQ29udmVydGVyOiBGaXJlc3RvcmVEYXRhQ29udmVydGVyPERpc2NvcmRUaWVyV2l0aFByaWNlcz4gPVxyXG4gIHtcclxuICAgIHRvRmlyZXN0b3JlKHBvc3Q6IFdpdGhGaWVsZFZhbHVlPERpc2NvcmRUaWVyV2l0aFByaWNlcz4pOiBEb2N1bWVudERhdGEge1xyXG4gICAgICByZXR1cm4gcG9zdDtcclxuICAgIH0sXHJcbiAgICBmcm9tRmlyZXN0b3JlKHNuYXBzaG90OiBRdWVyeURvY3VtZW50U25hcHNob3QpOiBEaXNjb3JkVGllcldpdGhQcmljZXMge1xyXG4gICAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZGF0YSgpO1xyXG4gICAgICBjb25zdCBpZCA9IHNuYXBzaG90LmlkO1xyXG4gICAgICByZXR1cm4geyBpZCwgLi4uZGF0YSB9IGFzIERpc2NvcmRUaWVyV2l0aFByaWNlcztcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBBZG1pbk1vbmV0aXplZFNlcnZlcnNGaXJlc3RvcmVDb252ZXJ0ZXI6IEZpcmVzdG9yZURhdGFDb252ZXJ0ZXI8TW9uZXRpemVkU2VydmVyPiA9XHJcbiAge1xyXG4gICAgdG9GaXJlc3RvcmUocG9zdDogTW9uZXRpemVkU2VydmVyKTogRG9jdW1lbnREYXRhIHtcclxuICAgICAgcmV0dXJuIHsgLi4ucG9zdCB9O1xyXG4gICAgfSxcclxuICAgIGZyb21GaXJlc3RvcmUoc25hcHNob3Q6IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCk6IE1vbmV0aXplZFNlcnZlciB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC5kYXRhKCk7XHJcbiAgICAgIHJldHVybiBkYXRhIGFzIE1vbmV0aXplZFNlcnZlcjtcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBBZG1pblVzZXJTdWJzY3JpcHRpb25GaXJlc3RvcmVDb252ZXJ0ZXI6IEZpcmVzdG9yZURhdGFDb252ZXJ0ZXI8VXNlclN1YnNjcmlwdGlvbj4gPVxyXG4gIHtcclxuICAgIHRvRmlyZXN0b3JlKHBvc3Q6IFVzZXJTdWJzY3JpcHRpb24pOiBEb2N1bWVudERhdGEge1xyXG4gICAgICByZXR1cm4gcG9zdDtcclxuICAgIH0sXHJcbiAgICBmcm9tRmlyZXN0b3JlKHNuYXBzaG90OiBRdWVyeURvY3VtZW50U25hcHNob3QpOiBVc2VyU3Vic2NyaXB0aW9uIHtcclxuICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRhdGEoKTtcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgVXNlclN1YnNjcmlwdGlvbjtcclxuICAgIH0sXHJcbiAgfTtcclxuXHJcbmV4cG9ydCBjb25zdCBUaWVyUGF0aHMgPSB7XHJcbiAgY29sbGVjdGlvbjogZmlyZXN0b3JlKClcclxuICAgIC5jb2xsZWN0aW9uKFwidGllcnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluRGlzY29yZFRpZXJGaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIHVzZXJTZXJ2ZXJUaWVyczogKHVzZXJJZDogc3RyaW5nLCBzZXJ2ZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ0aWVyc1wiKVxyXG4gICAgICAud2hlcmUoXCJzZWxsZXJJZFwiLCBcIj09XCIsIHVzZXJJZClcclxuICAgICAgLndoZXJlKFwiZ3VpbGRJZFwiLCBcIj09XCIsIHNlcnZlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICB1c2VyU2VydmVyVGllcnNXaXRoUHJpY2VzOiAodXNlcklkOiBzdHJpbmcsIHNlcnZlcklkOiBzdHJpbmcpID0+XHJcbiAgICBmaXJlc3RvcmUoKVxyXG4gICAgICAuY29sbGVjdGlvbihcInRpZXJzXCIpXHJcbiAgICAgIC53aGVyZShcInNlbGxlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxyXG4gICAgICAud2hlcmUoXCJndWlsZElkXCIsIFwiPT1cIiwgc2VydmVySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluRGlzY29yZFRpZXJXaXRoUHJpY2VzRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICB0aWVyOiAodGllcklkOiBzdHJpbmcpID0+XHJcbiAgICBmaXJlc3RvcmUoKVxyXG4gICAgICAuY29sbGVjdGlvbihcInRpZXJzXCIpXHJcbiAgICAgIC5kb2ModGllcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICB0aWVyc0J5UHJvZHVjdElkOiAocHJvZHVjdElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ0aWVyc1wiKVxyXG4gICAgICAud2hlcmUoXCJwcm9kdWN0SWRcIiwgXCI9PVwiLCBwcm9kdWN0SWQpXHJcbiAgICAgIC53aGVyZShcInNlbGxlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBNb25ldGl6ZWRTZXJ2ZXJzID0ge1xyXG4gIGNvbGxlY3Rpb246IGZpcmVzdG9yZSgpXHJcbiAgICAuY29sbGVjdGlvbihcIm1vbmV0aXplZFNlcnZlcnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgbW9uZXRpemVkU2VydmVyczogKHVzZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJtb25ldGl6ZWRTZXJ2ZXJzXCIpXHJcbiAgICAgIC53aGVyZShcIm93bmVySWRcIiwgXCI9PVwiLCB1c2VySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgbW9uZXRpemVkU2VydmVyOiAoc2VydmVySWQ6IHN0cmluZywgdXNlcklkOiBzdHJpbmcpID0+XHJcbiAgICBmaXJlc3RvcmUoKVxyXG4gICAgICAuY29sbGVjdGlvbihcIm1vbmV0aXplZFNlcnZlcnNcIilcclxuICAgICAgLndoZXJlKFwib3duZXJJZFwiLCBcIj09XCIsIHVzZXJJZClcclxuICAgICAgLndoZXJlKGZpcmVzdG9yZS5GaWVsZFBhdGguZG9jdW1lbnRJZCgpLCBcIj09XCIsIHNlcnZlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbk1vbmV0aXplZFNlcnZlcnNGaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIG1vbmV0aXplZFNlcnZlckJ5SWQ6IChzZXJ2ZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJtb25ldGl6ZWRTZXJ2ZXJzXCIpXHJcbiAgICAgIC5kb2Moc2VydmVySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciksXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgVXNlclN1YnNjcmlwdGlvbnMgPSB7XHJcbiAgY29sbGVjdGlvbjogZmlyZXN0b3JlKClcclxuICAgIC5jb2xsZWN0aW9uKFwidXNlclN1YnNjcmlwdGlvbnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgdXNlclN1YnNjcmlwdGlvbkJ5U3ViSWQ6IChzdWJzY3JpcHRpb25JZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ1c2VyU3Vic2NyaXB0aW9uc1wiKVxyXG4gICAgICAuZG9jKHN1YnNjcmlwdGlvbklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pblVzZXJTdWJzY3JpcHRpb25GaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIHVzZXJTdWJzY3JpcHRpb25CeVVzZXJJZDogKHVzZXJJZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJ1c2VyU3Vic2NyaXB0aW9uc1wiKVxyXG4gICAgICAud2hlcmUoXCJ1c2VySWRcIiwgXCI9PVwiLCB1c2VySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciksXHJcbiAgdXNlclN1YnNjcmlwdGlvbkJ5U2VydmVySWQ6ICh1c2VySWQ6IHN0cmluZywgc2VydmVySWQ6IHN0cmluZykgPT5cclxuICAgIGZpcmVzdG9yZSgpXHJcbiAgICAgIC5jb2xsZWN0aW9uKFwidXNlclN1YnNjcmlwdGlvbnNcIilcclxuICAgICAgLndoZXJlKFwidXNlcklkXCIsIFwiPT1cIiwgdXNlcklkKVxyXG4gICAgICAud2hlcmUoXCJndWlsZElkXCIsIFwiPT1cIiwgc2VydmVySWQpXHJcbiAgICAgIC53aXRoQ29udmVydGVyKEFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciksXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgQ3VzdG9tZXJQYXRocyA9IHtcclxuICBjb2xsZWN0aW9uOiBmaXJlc3RvcmUoKVxyXG4gICAgLmNvbGxlY3Rpb24oXCJjdXN0b21lcnNcIilcclxuICAgIC53aXRoQ29udmVydGVyKEFkbWluQ3VzdG9tZXJGaXJlc3RvcmVDb252ZXJ0ZXIpLFxyXG4gIGN1c3RvbWVyQnlVc2VySWQ6ICh1c2VySWQ6IHN0cmluZykgPT5cclxuICAgIGZpcmVzdG9yZSgpXHJcbiAgICAgIC5jb2xsZWN0aW9uKFwiY3VzdG9tZXJzXCIpXHJcbiAgICAgIC5kb2ModXNlcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkN1c3RvbWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICBjdXN0b21lckJ5Q3VzdG9tZXJJZDogKGN1c3RvbWVySWQ6IHN0cmluZykgPT5cclxuICAgIGZpcmVzdG9yZSgpXHJcbiAgICAgIC5jb2xsZWN0aW9uKFwiY3VzdG9tZXJzXCIpXHJcbiAgICAgIC53aGVyZShcInN0cmlwZUN1c3RvbWVySWRcIiwgXCI9PVwiLCBjdXN0b21lcklkKVxyXG4gICAgICAud2l0aENvbnZlcnRlcihBZG1pbkN1c3RvbWVyRmlyZXN0b3JlQ29udmVydGVyKSxcclxuICBjdXN0b21lckJ5U3Vic2NyaXB0aW9uSWQ6IChzdWJzY3JpcHRpb25JZDogc3RyaW5nKSA9PlxyXG4gICAgZmlyZXN0b3JlKClcclxuICAgICAgLmNvbGxlY3Rpb24oXCJjdXN0b21lcnNcIilcclxuICAgICAgLndoZXJlKFwic3RyaXBlU3Vic2NyaXB0aW9uSWRcIiwgXCI9PVwiLCBzdWJzY3JpcHRpb25JZClcclxuICAgICAgLndpdGhDb252ZXJ0ZXIoQWRtaW5DdXN0b21lckZpcmVzdG9yZUNvbnZlcnRlciksXHJcbn07XHJcbiJdLCJuYW1lcyI6WyJmaXJlc3RvcmUiLCJjdXN0b21Jbml0QXBwIiwiQWRtaW5DdXN0b21lckZpcmVzdG9yZUNvbnZlcnRlciIsInRvRmlyZXN0b3JlIiwicG9zdCIsImZyb21GaXJlc3RvcmUiLCJzbmFwc2hvdCIsImRhdGEiLCJBZG1pbkRpc2NvcmRUaWVyRmlyZXN0b3JlQ29udmVydGVyIiwiaWQiLCJBZG1pbkRpc2NvcmRUaWVyV2l0aFByaWNlc0ZpcmVzdG9yZUNvbnZlcnRlciIsIkFkbWluTW9uZXRpemVkU2VydmVyc0ZpcmVzdG9yZUNvbnZlcnRlciIsIkFkbWluVXNlclN1YnNjcmlwdGlvbkZpcmVzdG9yZUNvbnZlcnRlciIsIlRpZXJQYXRocyIsImNvbGxlY3Rpb24iLCJ3aXRoQ29udmVydGVyIiwidXNlclNlcnZlclRpZXJzIiwidXNlcklkIiwic2VydmVySWQiLCJ3aGVyZSIsInVzZXJTZXJ2ZXJUaWVyc1dpdGhQcmljZXMiLCJ0aWVyIiwidGllcklkIiwiZG9jIiwidGllcnNCeVByb2R1Y3RJZCIsInByb2R1Y3RJZCIsIk1vbmV0aXplZFNlcnZlcnMiLCJtb25ldGl6ZWRTZXJ2ZXJzIiwibW9uZXRpemVkU2VydmVyIiwiRmllbGRQYXRoIiwiZG9jdW1lbnRJZCIsIm1vbmV0aXplZFNlcnZlckJ5SWQiLCJVc2VyU3Vic2NyaXB0aW9ucyIsInVzZXJTdWJzY3JpcHRpb25CeVN1YklkIiwic3Vic2NyaXB0aW9uSWQiLCJ1c2VyU3Vic2NyaXB0aW9uQnlVc2VySWQiLCJ1c2VyU3Vic2NyaXB0aW9uQnlTZXJ2ZXJJZCIsIkN1c3RvbWVyUGF0aHMiLCJjdXN0b21lckJ5VXNlcklkIiwiY3VzdG9tZXJCeUN1c3RvbWVySWQiLCJjdXN0b21lcklkIiwiY3VzdG9tZXJCeVN1YnNjcmlwdGlvbklkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db-lib/firestore-db-paths.ts\n");

/***/ }),

/***/ "(rsc)/../../packages/db-lib/index.ts":
/*!**************************************!*\
  !*** ../../packages/db-lib/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AdminCustomerFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminCustomerFirestoreConverter),\n/* harmony export */   AdminDiscordTierFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminDiscordTierFirestoreConverter),\n/* harmony export */   AdminDiscordTierWithPricesFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminDiscordTierWithPricesFirestoreConverter),\n/* harmony export */   AdminMonetizedServersFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminMonetizedServersFirestoreConverter),\n/* harmony export */   AdminUserSubscriptionFirestoreConverter: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.AdminUserSubscriptionFirestoreConverter),\n/* harmony export */   CustomerPaths: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.CustomerPaths),\n/* harmony export */   MonetizedServers: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.MonetizedServers),\n/* harmony export */   TierPaths: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.TierPaths),\n/* harmony export */   UserSubscriptions: () => (/* reexport safe */ _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__.UserSubscriptions),\n/* harmony export */   customInitApp: () => (/* reexport safe */ _firebase_admin_config__WEBPACK_IMPORTED_MODULE_0__.customInitApp)\n/* harmony export */ });\n/* harmony import */ var _firebase_admin_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./firebase-admin-config */ \"(rsc)/../../packages/db-lib/firebase-admin-config.ts\");\n/* harmony import */ var _firestore_db_paths__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firestore-db-paths */ \"(rsc)/../../packages/db-lib/firestore-db-paths.ts\");\n// @index('./**/*.ts', f => `export * from '${f.path}'`)\n\n // @endindex\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi4vLi4vcGFja2FnZXMvZGItbGliL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHdEQUF3RDtBQUNoQjtBQUNILENBQ3JDLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9Ac3RyaXBlLWRpc2NvcmQvc2VsbGVyLy4uLy4uL3BhY2thZ2VzL2RiLWxpYi9pbmRleC50cz9kNzljIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEBpbmRleCgnLi8qKi8qLnRzJywgZiA9PiBgZXhwb3J0ICogZnJvbSAnJHtmLnBhdGh9J2ApXHJcbmV4cG9ydCAqIGZyb20gXCIuL2ZpcmViYXNlLWFkbWluLWNvbmZpZ1wiO1xyXG5leHBvcnQgKiBmcm9tIFwiLi9maXJlc3RvcmUtZGItcGF0aHNcIjtcclxuLy8gQGVuZGluZGV4XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/../../packages/db-lib/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@auth","vendor-chunks/next-auth","vendor-chunks/@swc","vendor-chunks/oauth4webapi","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/../../node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmonetized-servers%2Froute&page=%2Fapi%2Fmonetized-servers%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmonetized-servers%2Froute.ts&appDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Fd%2FMain-Proyects%2Fdiscord-stripe-mono%2Fapps%2Fseller&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();